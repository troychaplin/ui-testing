import{j as i}from"./jsx-runtime-CKrituN3.js";import{r as u}from"./index-CBqU2yxZ.js";import{B as H}from"./Button-pJnFz9mN.js";import{t as m,c as k,a as q,i as b,m as I,b as Y,s as A,f as x,p as L}from"./parse-BfiLtjV-.js";import"./_commonjsHelpers-BosuxZz1.js";import"./Icon-CEJzFsP4.js";import"./optionClasses-CNxrwecR.js";function Z({title:t,titleId:e,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},a),t?u.createElement("title",{id:e},t):null,u.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const z=u.forwardRef(Z),J=z;function Q({title:t,titleId:e,...a},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},a),t?u.createElement("title",{id:e},t):null,u.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const V=u.forwardRef(Q),G=V,y={prevNextArrows:"flex items-center justify-center flex-none p-2 text-cu-black-800 hover:text-cu-red",calendarGrid:"grid grid-cols-7 gap-px mt-4 text-center"};function P(t,e){const a=m(t);if(isNaN(e))return k(t,NaN);if(!e)return a;const n=a.getDate(),s=k(t,a.getTime());s.setMonth(a.getMonth()+e+1,0);const c=s.getDate();return n>=c?s:(a.setFullYear(s.getFullYear(),s.getMonth(),n),a)}function _(t,e){const{years:a=0,months:n=0,weeks:s=0,days:c=0,hours:l=0,minutes:d=0,seconds:o=0}=e,f=m(t),h=n||a?P(f,n+a*12):f,v=c||s?q(h,c+s*7):h,T=d+l*60,C=(o+T*60)*1e3;return k(t,v.getTime()+C)}function K(t){const e=m(t),a=e.getMonth();return e.setFullYear(e.getFullYear(),a+1,0),e.setHours(23,59,59,999),e}function X(t,e){const a=m(t.start),n=m(t.end);let s=+a>+n;const c=s?+a:+n,l=s?n:a;l.setHours(0,0,0,0);let d=(e==null?void 0:e.step)??1;if(!d)return[];d<0&&(d=-d,s=!s);const o=[];for(;+l<=c;)o.push(m(l)),l.setDate(l.getDate()+d),l.setHours(0,0,0,0);return s?o.reverse():o}function ee(t){return m(t).getDay()}function te(t,e){const a=m(t),n=m(e);return+a<+n}function p(t,e){const a=m(t),n=m(e);return+a==+n}function O(t,e){const a=m(t),n=m(e);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()}function D(t){return b(t,Date.now())}function ae(t,e){const a=(e==null?void 0:e.additionalDigits)??2,n=ie(t);let s;if(n.date){const o=oe(n.date,a);s=ce(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const c=s.getTime();let l=0,d;if(n.time&&(l=le(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(d=de(n.timezone),isNaN(d))return new Date(NaN)}else{const o=new Date(c+l),f=new Date(0);return f.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),f.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),f}return new Date(c+l+d)}const N={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ne=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,se=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,re=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ie(t){const e={},a=t.split(N.dateTimeDelimiter);let n;if(a.length>2)return e;if(/:/.test(a[0])?n=a[0]:(e.date=a[0],n=a[1],N.timeZoneDelimiter.test(e.date)&&(e.date=t.split(N.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=N.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function oe(t,e){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(a);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,c=n[2]?parseInt(n[2]):null;return{year:c===null?s:c*100,restDateString:t.slice((n[1]||n[2]).length)}}function ce(t,e){if(e===null)return new Date(NaN);const a=t.match(ne);if(!a)return new Date(NaN);const n=!!a[4],s=g(a[1]),c=g(a[2])-1,l=g(a[3]),d=g(a[4]),o=g(a[5])-1;if(n)return pe(e,d,o)?ue(e,d,o):new Date(NaN);{const f=new Date(0);return!fe(e,c,l)||!he(e,s)?new Date(NaN):(f.setUTCFullYear(e,c,Math.max(s,l)),f)}}function g(t){return t?parseInt(t):1}function le(t){const e=t.match(se);if(!e)return NaN;const a=j(e[1]),n=j(e[2]),s=j(e[3]);return De(a,n,s)?a*I+n*Y+s*1e3:NaN}function j(t){return t&&parseFloat(t.replace(",","."))||0}function de(t){if(t==="Z")return 0;const e=t.match(re);if(!e)return 0;const a=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return xe(n,s)?a*(n*I+s*Y):NaN}function ue(t,e,a){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,c=(e-1)*7+a+1-s;return n.setUTCDate(n.getUTCDate()+c),n}const me=[31,null,31,30,31,30,31,31,30,31,30,31];function W(t){return t%400===0||t%4===0&&t%100!==0}function fe(t,e,a){return e>=0&&e<=11&&a>=1&&a<=(me[e]||(W(t)?29:28))}function he(t,e){return e>=1&&e<=(W(t)?366:365)}function pe(t,e,a){return e>=1&&e<=53&&a>=0&&a<=6}function De(t,e,a){return t===24?e===0&&a===0:a>=0&&a<60&&e>=0&&e<60&&t>=0&&t<25}function xe(t,e){return e>=0&&e<=59}function ge(){return A(Date.now())}const U=(...t)=>t.filter(Boolean).join(" "),M=({events:t,callback:e,defaultDate:a})=>{const n=ge(),[s,c]=u.useState(a?new Date(a):new Date),[l,d]=u.useState(x(n,"MMM-yyyy")),[o,f]=u.useState(!1),h=L(l,"MMM-yyyy",new Date),v=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"],T=X({start:h,end:K(h)}),S=()=>{const r=_(h,{months:-1});d(x(r,"MMM-yyyy"))},C=()=>{const r=_(h,{months:1});d(x(r,"MMM-yyyy"))};return u.useEffect(()=>{e(s)},[s,e]),i.jsxs("div",{className:"cu-calendar not-prose",children:[i.jsxs("div",{className:"not-prose mb-6 flex items-center rounded-lg border border-cu-black-100 bg-white py-2",children:[i.jsxs("button",{type:"button",onClick:S,className:`${y.prevNextArrows}`,children:[i.jsx("span",{className:"sr-only text-base",children:"Previous month"}),i.jsx(J,{className:"h-5 w-5","aria-hidden":"true"})]}),i.jsx("h2",{className:"flex-auto text-center text-base font-semibold text-cu-black-900",children:x(h,"MMMM yyyy")}),i.jsxs("button",{onClick:C,type:"button",className:`${y.prevNextArrows}`,children:[i.jsx("span",{className:"sr-only text-base",children:"Next month"}),i.jsx(G,{className:"h-5 w-5","aria-hidden":"true"})]})]}),i.jsxs("div",{className:`${y.calendarGrid} text-xs text-cu-black-600`,children:[i.jsx("div",{children:"S"}),i.jsx("div",{children:"M"}),i.jsx("div",{children:"T"}),i.jsx("div",{children:"W"}),i.jsx("div",{children:"T"}),i.jsx("div",{children:"F"}),i.jsx("div",{children:"S"})]}),i.jsx("div",{className:`${y.calendarGrid} isolate overflow-hidden rounded-lg border border-cu-black-100 bg-cu-black-50 text-sm`,children:T.map((r,$)=>i.jsxs("div",{className:U($===0&&v[ee(r)],"bg-white py-2"),children:[i.jsx("button",{type:"button",disabled:te(r,n),onClick:()=>{c(r),f(!0)},className:U(p(r,s)&&"text-white",b(r,s)&&"text-white",!p(r,s)&&D(r)&&"text-cu-red",!p(r,s)&&!D(r)&&O(r,h)&&"text-cu-black-900",!p(r,s)&&!D(r)&&!O(r,h)&&"text-cu-black-400",p(r,s)&&D(r)&&"bg-cu-red",p(r,s)&&!D(r)&&"bg-cu-red",b(r,s)&&D(r)&&"bg-cu-red",b(r,s)&&!D(r)&&"bg-cu-red",!p(r,s)&&"hover:bg-cu-red hover:text-white",(p(r,s)||D(r))&&"font-semibold","mx-auto flex h-8 w-8 items-center justify-center rounded-full disabled:bg-cu-black-50 disabled:text-cu-black-900"),children:i.jsx("time",{dateTime:x(r,"yyyy-MM-dd"),children:x(r,"d")})}),i.jsx("div",{className:"mx-auto mt-1 h-1 w-1",children:(t==null?void 0:t.some(B=>b(ae(B.startDatetime),r)))&&i.jsx("div",{className:"h-1 w-1 rounded-full bg-sky-500"})})]},r.toString()))}),o&&i.jsx("div",{className:"mt-2",children:i.jsx(H,{title:"Clear Calendar",isCenter:!0,isSmall:!0,onClick:()=>{c(new Date),f(!1)}})})]})};try{M.displayName="Calendar",M.__docgenInfo={description:"",displayName:"Calendar",props:{events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"{ id: number; name: string; imageUrl: string; startDatetime: string; endDatetime: string; }[]"}},callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(d: Date) => void"}},defaultDate:{defaultValue:null,description:"",name:"defaultDate",required:!1,type:{name:"string"}}}}}catch{}const je={title:"Components/Calendar",component:M,tags:["autodocs"],parameters:{controls:{sort:"requiredFirst"}}},be={title:"Events",classname:".events",events:[{id:1,name:"Leslie Alexander",imageUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-21T13:00",endDatetime:"2022-10-21T14:30"},{id:2,name:"Michael Foster",imageUrl:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-21T09:00",endDatetime:"2022-10-21T11:30"},{id:3,name:"Dries Vincent",imageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-24T17:00",endDatetime:"2022-10-24T18:30"},{id:4,name:"Leslie Alexander",imageUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-26T13:00",endDatetime:"2022-10-26T14:30"},{id:5,name:"Michael Foster",imageUrl:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-30T14:00",endDatetime:"2022-10-30T14:30"}]},w=()=>{const[,t]=u.useState(new Date),e=u.useCallback(a=>{t(a)},[t]);return i.jsx(M,{events:be.events,callback:e})};w.storyName="Default Calendar";var E,F,R;w.parameters={...w.parameters,docs:{...(E=w.parameters)==null?void 0:E.docs,source:{originalSource:`() => {
  const [, setSelectedDate] = useState(new Date());
  const callbackcal = useCallback((itemSelected: Date) => {
    setSelectedDate(itemSelected);
  }, [setSelectedDate]);
  return <Calendar events={data.events} callback={callbackcal} />;
}`,...(R=(F=w.parameters)==null?void 0:F.docs)==null?void 0:R.source}}};const ke=["Default"];export{w as Default,ke as __namedExportsOrder,je as default};
