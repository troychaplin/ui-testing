import{j as t}from"./jsx-runtime-CKrituN3.js";import{r as o}from"./index-CBqU2yxZ.js";import{B as q}from"./Button-D_Hl5638.js";import{s as B,e as I,a as U,C as W,b as A,g as H,i as J,c as h,d as y,p as Q,f as M}from"./startOfToday-C7FXxczV.js";import{f as n,p as F,i as r}from"./parse-BfiLtjV-.js";import"./_commonjsHelpers-BosuxZz1.js";import"./Icon-7MNW6_r8.js";import"./optionClasses-nRtJeGr9.js";import"./ChevronDownIcon-DCf8Nrl_.js";const f={prevNextArrows:"flex items-center justify-center flex-none p-2 text-cu-black-800 hover:text-cu-red",calendarGrid:"grid grid-cols-7 gap-px mt-4 text-center"},j=(...i)=>i.filter(Boolean).join(" "),x=({events:i,callback:m,defaultDate:u})=>{const b=B(),[a,c]=o.useState(u?[new Date(u)]:[]),[T,g]=o.useState(n(b,"MMM-yyyy")),[C,D]=o.useState(!1),l=F(T,"MMM-yyyy",new Date),k=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"],w=I({start:l,end:U(l)}),O=()=>{const e=M(l,{months:-1});g(n(e,"MMM-yyyy"))},E=()=>{const e=M(l,{months:1});g(n(e,"MMM-yyyy"))};return o.useEffect(()=>{m(a)},[a,m]),t.jsxs("div",{className:"cu-calendar not-prose",children:[t.jsxs("div",{className:"flex items-center py-2 mb-6 bg-white border rounded-lg not-prose border-cu-black-100",children:[t.jsxs("button",{type:"button",onClick:O,className:`${f.prevNextArrows}`,children:[t.jsx("span",{className:"text-base sr-only",children:"Previous month"}),t.jsx(W,{className:"w-5 h-5","aria-hidden":"true"})]}),t.jsx("h2",{className:"flex-auto text-base font-semibold text-center text-cu-black-900",children:n(l,"MMMM yyyy")}),t.jsxs("button",{onClick:E,type:"button",className:`${f.prevNextArrows}`,children:[t.jsx("span",{className:"text-base sr-only",children:"Next month"}),t.jsx(A,{className:"w-5 h-5","aria-hidden":"true"})]})]}),t.jsxs("div",{className:`${f.calendarGrid} text-xs text-cu-black-600`,children:[t.jsx("div",{children:"S"}),t.jsx("div",{children:"M"}),t.jsx("div",{children:"T"}),t.jsx("div",{children:"W"}),t.jsx("div",{children:"T"}),t.jsx("div",{children:"F"}),t.jsx("div",{children:"S"})]}),t.jsx("div",{className:`${f.calendarGrid} isolate overflow-hidden rounded-lg border border-cu-black-100 bg-cu-black-50 text-sm`,children:w.map((e,_)=>t.jsxs("div",{className:j(_===0&&k[H(e)],"bg-white py-2"),children:[t.jsx("button",{type:"button",disabled:J(e,b),onClick:()=>{a.map(p=>p.toISOString()).includes(e.toISOString())?c(a.filter(p=>!r(p,e))):a.length>=2?e.getTime()<a[0].getTime()?c([e,a[0]]):e.getTime()>a[0].getTime()&&c([a[0],e]):a.length===0||a[0].getTime()<e.getTime()?c([...a,e]):c([e,...a]),D(!0)},className:j(a.some(s=>r(s,e))&&"selected",a.length===2&&e.getTime()>=a[0].getTime()&&e.getTime()<=a[1].getTime()&&"bg-cu-red text-white",!a.some(s=>r(s,e))&&h(e)&&"text-cu-red",!a.some(s=>r(s,e))&&y(e,l)&&"text-cu-black-900",!a.some(s=>r(s,e))&&!y(e,l)&&"text-cu-black-400",a.some(s=>r(s,e))&&h(e)&&"bg-cu-red",a.some(s=>r(s,e))&&!h(e)&&"bg-cu-red text-white",!a.some(s=>r(s,e))&&"hover:bg-cu-red hover:text-white",h(e)||a.some(s=>r(s,e))&&"font-semibold","mx-auto flex h-8 w-8 items-center justify-center rounded-full disabled:bg-cu-black-50 disabled:text-cu-black-900"),children:t.jsx("time",{dateTime:n(e,"yyyy-MM-dd"),children:n(e,"d")})}),t.jsx("div",{className:"w-1 h-1 mx-auto mt-1",children:(i==null?void 0:i.some(s=>r(Q(s.startDatetime),e)))&&t.jsx("div",{className:"w-1 h-1 rounded-full bg-sky-500"})})]},e.toString()))}),C&&t.jsx("div",{className:"mt-2",children:t.jsx(q,{title:"Clear Calendar",isCenter:!0,isSmall:!0,onClick:()=>{c([]),D(!1)}})})]})};try{x.displayName="MultiDayCalendar",x.__docgenInfo={description:"",displayName:"MultiDayCalendar",props:{events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"{ id: number; name: string; imageUrl: string; startDatetime: string; endDatetime: string; }[]"}},callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(selectedDays: Date[]) => void"}},defaultDate:{defaultValue:null,description:"",name:"defaultDate",required:!1,type:{name:"string"}}}}}catch{}const Z={title:"Components/MultiDayCalendar",component:x,tags:["autodocs"],parameters:{controls:{sort:"requiredFirst"}}},V={title:"Events",classname:".events",events:[{id:1,name:"Leslie Alexander",imageUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-21T13:00",endDatetime:"2022-10-21T14:30"},{id:2,name:"Michael Foster",imageUrl:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-21T09:00",endDatetime:"2022-10-21T11:30"},{id:3,name:"Dries Vincent",imageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-24T17:00",endDatetime:"2022-10-24T18:30"},{id:4,name:"Leslie Alexander",imageUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-26T13:00",endDatetime:"2022-10-26T14:30"},{id:5,name:"Michael Foster",imageUrl:"https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",startDatetime:"2022-10-30T14:00",endDatetime:"2022-10-30T14:30"}]},d=()=>{const[,i]=o.useState([]),m=o.useCallback(u=>{i(u)},[i]);return t.jsx(x,{events:V.events,callback:m})};d.storyName="Default MultiDay Calendar";var v,S,N;d.parameters={...d.parameters,docs:{...(v=d.parameters)==null?void 0:v.docs,source:{originalSource:`() => {
  const [, setSelectedDays] = useState<Date[]>([]);
  const callbackcal = useCallback((itemSelected: Date[]) => {
    setSelectedDays(itemSelected);
  }, [setSelectedDays]);
  return <MultiDayCalendar events={data.events} callback={callbackcal} />;
}`,...(N=(S=d.parameters)==null?void 0:S.docs)==null?void 0:N.source}}};const ee=["Default"];export{d as Default,ee as __namedExportsOrder,Z as default};
